{% extends 'base.html' %}
{% load fontawesome %}

{% block title %}Your Projects{% endblock %}

{% block content %}
<br>
<a role="button" class="btn btn-primary" href="{% url 'adastra:create_project' %}"> + Add Project</a>
<br><br>
<table class="table table-hover">
    <thead>
    <tr>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    {% for project in user_projects %}
    <tr>
        <td>{{ project.unique_id }}</td>
        <td>{{ project.name }}</td>
        <td>
            <a
                    role="button"
                    class="btn btn-success"
                    href="{% url 'adastra:tasks' project.unique_id %}">
                Show
            </a>
            <a
                    role="button"
                    class="btn btn-primary"
                    href="{% url 'adastra:edit_project' project.unique_id %}">
                Edit
            </a>
            <form class="inline-block" action="{% url 'adastra:delete_project' project.unique_id %}"
                  method='post'>
                {% csrf_token %}
                <button
                        type="submit"
                        onclick="return confirm('Are you sure you want to delete this project?')"
                        class="btn btn-danger">
                    {% fontawesome_icon 'trash' %} Delete
                </button>
            </form>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}